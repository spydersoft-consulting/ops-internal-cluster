grafana:
  ingress:
    path: /
    tls: []
    annotations:
      kubernetes.io/ingress.class: nginx
      nginx.ingress.kubernetes.io/service-upstream: "true"
    hosts:
    - grafana.mattgerega.net
    enabled: true
    pathType: Prefix
  admin:
    passwordKey: GRAFANA_ADMIN_PASSWORD
    userKey: GRAFANA_ADMIN_USER
    existingSecret: grafana-admin-secret
  podAnnotations:
    linkerd.io/inject: enabled
  envFromSecret: grafana-auth-secret
  service:
    annotations:
      linkerd.io/inject: enabled
  grafana.ini:
    database:
      type: mysql
      host: grafana-mysql-headless
      user: grafanauser
      name: grafana
    server:
      domain: grafana.mattgerega.net
      root_url: https://grafana.mattgerega.net
    auth.azuread:
      allow_sign_up: true
      auth_url: https://login.microsoftonline.com/70965cdd-c60c-4109-9fcf-709b2f23bd0c/oauth2/v2.0/authorize
      scopes: openid email profile
      enabled: true
      token_url: https://login.microsoftonline.com/70965cdd-c60c-4109-9fcf-709b2f23bd0c/oauth2/v2.0/token
      name: Azure AD
      role_attribute_strict: false
    azure:
      managed_identity_enabled: true
  plugins:
  - grafana-piechart-panel
  serviceMonitor:
    enabled: true
  revisionHistoryLimit: 1
  persistence:
    storageClassName: nfs-client
    enabled: true
mysql:
  global:
    storageClass: nfs-client
  auth:
    database: grafana
    username: grafanauser
    existingSecret: grafana-db-secret
grafanaBackup:
  schedule: 0 4 * * *
  image:
    repository: ysde/docker-grafana-backup-tool
    tag: 1.4.2
  enabled: true

